<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON placeholder</title>
</head>
<body>

    Yükləmə:

    1) Sayta daxil oluruq 
    https://jsonplaceholder.typicode.com

    2) Bu səhifədə bu kodda olan linki götür (https://jsonplaceholder.typicode.com/todos/1) və googldan gir, qarşına bir kod çıxacaq

    fetch('https://jsonplaceholder.typicode.com/todos/1')
    .then(response => response.json())
    .then(json => console.log(json))

    Əgər linkdə 1 rəqəmin pozsan bütün userləri verəcək arrayda, nəinki 1 user

    və yaxud buraya daxil ol - https://github.com/typicode/json-server#install

    1) https://github.com/typicode/json-server#install - daxil ol 

    2) Terminali ac


    npm init (gelenler ucun axira qeder enteri bas)

    npm install --save json-server 

    (
    package.json da asagidaki yerde test evezine json:server yazdiq yuxaridaki ad
    buradan gelir
        "scripts": {
            "json:server": "json-server --watch db.json"
        },
    )

    Belede ala bilirik get ile http://localhost:3000/users?companyId=3

    limitle paginasiya da olur

    order by da etmek olur, hamisi 23 deqiqelik olan videoda da var

    npm run json:server (json:server test yerine qoyulan addir ve baslamaq ucun qoyulmalidir)

    ____________________________________________________________________

    Metodlar

    Link: https://jsonplaceholder.typicode.com/guide/

    1) Birini GET ilə alma

    <script>
        fetch('https://jsonplaceholder.typicode.com/posts/1')
        .then((response) => response.json())
        .then((json) => console.log(json));
    </script>

    Hamısını alma GET ilə

    <script>
        fetch('https://jsonplaceholder.typicode.com/posts')
        .then((response) => response.json())
        .then((json) => console.log(json));
    </script>

    2) Əlavə etmə - id kodu özü avtomatik artırır, mySqldə olduğu kimi

    ! Avtimatik arta bilmek ucun id number formatda olmalidir, string olarsa id reqemi
    bu halda id kodu string kimi taniyaraq muxtelif sozler verecek string kimi id ucun.

    <script>

        fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: JSON.stringify({
                title: 'foo',
                body: 'bar',
                userId: 1,
            }),
            headers: {
                'Content-type': 'application/json; charset=UTF-8',
            },
        })
            .then((response) => response.json())
            .then((json) => console.log(json));

        </script>

        3) Edit etme (update) - 

        <script>
            fetch('http://localhost:3000/users/1', {
                method: 'PUT',
                body: JSON.stringify({
                    id: 2,
                    name: 'John',
                    surname: 'Doe',
                    age: "25",
                    companyId: 2,
                }),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })
                .then(responses => responses.json())
                .then((responses) => { 
                    console.log(responses); 
                    for (const key in responses) {
                        result.innerHTML += key + ": " + responses[key] + "<br>";
                    }
                    
                })
        </script>

        4) Silmek

        <script>
            fetch('https://jsonplaceholder.typicode.com/posts/1', {
                method: 'DELETE',
            });
        </script>

        5) 

</body>
</html>



<!-- https://github.com/typicode/json-server#getting-started -->

 <!-- Link: https://www.youtube.com/watch?v=vLRBe2d-WkA -->

 <!-- Link: https://www.youtube.com/watch?v=1zkgdLZEdwM -->